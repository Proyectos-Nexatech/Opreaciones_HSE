{
  "meta": {
    "project": "ISMS v3 - Plataforma Operaciones_HSE",
    "date": "2026-02-12",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "ISMS v3 is an advanced Integrated Safety Management System designed to digitize and optimize Health, Safety, and Environment (HSE) operations in complex industrial environments. It automates workflows like work permit management, incident reporting, and personnel oversight, ensuring strict compliance with the IS 17893:2022 standard and improving operational safety and accountability through a modern, auditable, and resilient digital platform.",
  "core_goals": [
    "Centralize and automate HSE workflow management to reduce processing times significantly (e.g., reducing permit approval from 15.4 min to 5.5 min).",
    "Ensure compliance with IS 17893:2022 safety standards and support the full lifecycle of work permits with strict regulatory adherence.",
    "Enhance data integrity, user experience, and fault tolerance via persistent state management and real-time system updates.",
    "Implement robust security with role-based access control and row-level security to protect sensitive operational data and enforcement of segregation of duties.",
    "Enable flexible export and reporting functionalities with corporate branding and data aggregation for audit and operational review."
  ],
  "key_features": [
    "Multi-step digital work permit requests with localStorage-backed state persistence to prevent data loss during form completion.",
    "Conditional form validation using Zod to enforce safety data requirements specific to permit types, such as mandatory gas testing for Hot Work and Confined Space Entry.",
    "User authentication and role-based access control with Supabase Auth supporting Admin, Safety Officer, Supervisor, and Permittee roles.",
    "Incident and event reporting module integrated with real-time updates for operational monitoring.",
    "Comprehensive personnel management with CRUD capabilities for field operatives' profiles.",
    "Dashboard presenting key HSE metrics and active operational tasks for quick oversight.",
    "Secure document storage using signed URLs for controlled access to sensitive permits and reports.",
    "Signature capture functionality supporting base64 image format and window communication for printable document generation.",
    "Export options to PDF and Excel with corporate headers and formatted data grouped by operational cost centers and service orders."
  ],
  "user_flow_summary": [
    "Users authenticate through Supabase Auth and are assigned roles governing access and permissions.",
    "Permittee initiates a new work permit request via a multi-step form that saves progress in localStorage for resilience against session disruptions.",
    "The form enforces strict validation rules, dynamically requiring additional data fields depending on permit type.",
    "Safety Officers receive submitted permits for final authorization and closure actions, including digital signature capture.",
    "Users report incidents and safety events via a dedicated reporting interface with immediate real-time updates.",
    "Administrators configure system roles and settings, manage personnel data, and oversee platform-wide governance.",
    "All users access the dashboard to monitor HSE metrics, track active permits, and review incident statuses.",
    "Users export reports with corporate branding and structured aggregation for compliance and audit purposes."
  ],
  "validation_criteria": [
    "Permit workflows reduce average approval time from 15.4 minutes to under 6 minutes as per experimental benchmarks.",
    "Form validations achieve at least 98.7% accuracy, preventing progression with incomplete or incorrect data especially on critical safety fields.",
    "Role-based access control blocks unauthorized actions, enforcing segregation of duties for permit issuance and approval.",
    "Signed URLs expire correctly and restrict unauthorized access to stored documents, verified by security audits.",
    "Realtime update mechanisms for incident reporting operate with latency under 120 ms for API responses and 27 ms for database queries.",
    "Exported documents include all required corporate identifiers, formatted data rows, and aggregated information by cost centers and service orders.",
    "System uptime meets or exceeds 99.3%, ensuring high availability for field and administrative users.",
    "Compliance with the IS 17893:2022 standard is fully demonstrable across all permit lifecycle stages: initiation, validation, authorization, execution, and closure."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "React",
      "Vite",
      "Supabase",
      "Tailwind CSS",
      "React Router",
      "Lucide React"
    ],
    "features": [
      {
        "name": "Authentication",
        "description": "User login, registration, and password recovery using Supabase Auth.",
        "files": [
          "src/context/AuthContext.tsx",
          "src/pages/Login.tsx",
          "src/pages/Register.tsx",
          "src/pages/ResetPassword.tsx"
        ]
      },
      {
        "name": "Personnel Management",
        "description": "CRUD operations and profile management for field operatives.",
        "files": [
          "src/pages/Personal.tsx",
          "src/components/PersonalModal.tsx",
          "src/services/hseService.ts"
        ]
      },
      {
        "name": "Work Permits (Nuevo Permiso)",
        "description": "Multi-step form for requesting and signing work permits.",
        "files": [
          "src/pages/NuevoPermiso.tsx",
          "src/services/hseService.ts"
        ]
      },
      {
        "name": "System Configuration",
        "description": "Management of users, roles, and platform settings for administrators.",
        "files": [
          "src/pages/Configuracion.tsx",
          "src/services/hseService.ts"
        ]
      },
      {
        "name": "Event Reporting (Ocurrio As√≠)",
        "description": "Reporting and tracking of safety incidents and events.",
        "files": [
          "src/pages/OcurrioAsi.tsx",
          "src/components/ReporteEventoModal.tsx"
        ]
      },
      {
        "name": "Dashboard",
        "description": "Visual summary of HSE metrics and active tasks.",
        "files": [
          "src/pages/Dashboard.tsx"
        ]
      }
    ]
  }
}
